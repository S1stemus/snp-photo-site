<ul class="list-unstyled">
    <li class="mb-4">
        <div class="card p-3">
            <img src="{{ comment.user.avatar.url }}" class="img-fluid  me-2 " alt="Аватар" style="width: 40px; height: 40px;"/>
            <p class="fw-bold">{{ comment.user }}</p>
            <p>{{ comment.comment }}</p>
            {% if user.is_authenticated %}
                <form action="{% url 'comment' comment.pk %}" method="post" class="mt-2">
                    {% csrf_token %}
                    <input type="hidden" name="content_type" value="comment">
                    <div class="input-group">
                        <input type="text" name="comment" class="form-control" placeholder="Ваш ответ..." required>
                        <button type="submit" class="btn btn-primary">Ответить</button>
                    </div>
                </form>
            {% endif %}
        </div>

        {% if comment.model_relation.all %}
            <ul class="list-unstyled ms-4 mt-3">
                {% for com in comment.model_relation.all %}
                    <li>
                        {% include 'comment.html' with comment=com %}
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
    </li>
</ul> 
<script>

</script>


{% comment %} <ul class="list-unstyled" id='comment-list'>
    <li class="mb-4" id='comment'>
        <div class="card p-3" id='comment-card'>
            <img id='avatar' style="width: 40px; height: 40px;"  class="img-fluid  me-2 "></img>
            <p class="fw-bold" id='comment-user'></p>
            <p id='comment-text'></p>
        </div>  
    </li>
</ul>
<script>
    function getPhotoId{
        const url = new URL(window.location.href); // Создаем объект URL
        const pathSegments = url.pathname.split('/'); // Разделяем путь по символу '/'
        const photoId = pathSegments[pathSegments.length - 2]; // Извлекаем предпоследний элемент
        return photoId;
    }
    async function fetchComments(photo_id) {
        const response = await fetch('http://127.0.0.1:8000/api/comments/', {
    }
    function renderComment(comment) {
        const commentList = document.getElementById('comment-list');
        const newComment = document.createElement('li');
        newComment.classList.add('mb-4');
        newComment.id = `comment-${comment.pk}`;
        newComment.innerHTML = `
            <div class="card p-3" id='comment-card'>
                <img id='avatar' style="width: 40px; height: 40px;"  class="img-fluid  me-2 "></img>
                <p class="fw-bold" id='comment-user'></p>
                <p id='comment-text'></p>
            </div>
        `;
        commentList.appendChild(newComment);
    }
</script>  {% endcomment %}




